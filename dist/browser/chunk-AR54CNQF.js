import{a as I}from"./chunk-MM22J7PI.js";import{g as C,h as y}from"./chunk-Y6UGLKWX.js";import{b as S,c as g,d as M,e as P,h as F,k as O,n as E,u as N,w as T}from"./chunk-JYF56DXZ.js";import{Ab as v,Fc as w,Kb as r,Oa as b,Ta as d,Za as h,db as x,hb as f,ob as m,tb as i,ub as o,vb as c,wc as _}from"./chunk-VE4VNBXX.js";import"./chunk-EQDQRRRY.js";function R(a,n){a&1&&(i(0,"div",16),r(1," Valid email is required. "),o())}function j(a,n){a&1&&(i(0,"div",16),r(1," Password is required. "),o())}function q(a,n){a&1&&(i(0,"div",16),r(1," Confirming password is required. "),o())}function A(a,n){a&1&&(i(0,"div",16),r(1," Name is required. "),o())}var k=class a{constructor(n,l,e){this.fb=n;this.router=l;this.authService=e;this.signupForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],confirmPassword:["",g.required],name:["",g.required]})}signupForm;imageUrl="assets/images/slika1.jpg";onSubmit(){if(this.signupForm.valid){let{password:n,confirmPassword:l,email:e,name:p}=this.signupForm.value;if(n!==l){this.showMessageBox("Passwords do not match!","Error");return}let u={name:p,email:e,password:n};this.authService.register(u).subscribe({next:t=>{this.showMessageBox("Registration successful!","Success"),this.router.navigate(["/login"])},error:t=>{console.error("Registration failed:",t);let s="Unknown error occurred";t.error&&typeof t.error=="string"?s=t.error:t.error?.message?s=t.error.message:t.message&&(s=t.message),s.includes("Email already registered")?this.showMessageBox("This email address is already registered. Please use a different email or try logging in.","Error"):this.showMessageBox(`Registration failed: ${s}`,"Error")}})}else this.signupForm.markAllAsTouched(),this.showMessageBox("Please fill in all required fields correctly.","Validation Error")}showMessageBox(n,l){let e=document.createElement("div");e.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: ${l==="Success"?"#4CAF50":"#f44336"};
      color: white;
      padding: 15px;
      border-radius: 5px;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      font-family: 'Inter', sans-serif;
      text-align: center;
    `,e.innerText=n,document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},3e3)}static \u0275fac=function(l){return new(l||a)(h(N),h(C),h(I))};static \u0275cmp=x({type:a,selectors:[["app-signup"]],decls:26,vars:7,consts:[[1,"login-page"],[1,"phone-placeholder"],["alt","Example Image",3,"src"],[1,"login-card"],[1,"login-header"],[1,"theme-toggle"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Email"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password"],["type","text","formControlName","name","placeholder","Name"],["type","submit",3,"disabled"],[1,"or-divider"],[1,"signup-text"],["routerLink","/login","href","/login"],[1,"error"]],template:function(l,e){if(l&1&&(i(0,"div",0)(1,"div",1),c(2,"img",2),o(),i(3,"div",3)(4,"div",4)(5,"h2"),r(6,"GroceryMate"),o(),i(7,"span",5),r(8,"\u2699\uFE0F"),o()(),i(9,"form",6),v("ngSubmit",function(){return e.onSubmit()}),c(10,"input",7),f(11,R,2,0,"div",8),c(12,"input",9),f(13,j,2,0,"div",8),c(14,"input",10),f(15,q,2,0,"div",8),c(16,"input",11),f(17,A,2,0,"div",8),i(18,"button",12),r(19,"Sign up"),o()(),i(20,"div",13),r(21,"OR"),o(),i(22,"p",14),r(23," Already have an account? "),i(24,"a",15),r(25,"Log in"),o()()()()),l&2){let p,u,t,s;d(2),m("src",e.imageUrl,b),d(7),m("formGroup",e.signupForm),d(2),m("ngIf",((p=e.signupForm.get("email"))==null?null:p.invalid)&&((p=e.signupForm.get("email"))==null?null:p.touched)),d(2),m("ngIf",((u=e.signupForm.get("password"))==null?null:u.invalid)&&((u=e.signupForm.get("password"))==null?null:u.touched)),d(2),m("ngIf",((t=e.signupForm.get("confirmPassword"))==null?null:t.invalid)&&((t=e.signupForm.get("confirmPassword"))==null?null:t.touched)),d(2),m("ngIf",((s=e.signupForm.get("name"))==null?null:s.invalid)&&((s=e.signupForm.get("name"))==null?null:s.touched)),d(),m("disabled",e.signupForm.invalid)}},dependencies:[w,_,T,F,S,M,P,O,E,y],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#0b3b5b;padding:20px}.phone-placeholder[_ngcontent-%COMP%]{width:300px;height:450px;border-radius:30px;margin-right:40px;box-shadow:0 0 10px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#f0f0f0}.phone-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-card[_ngcontent-%COMP%]{background-color:#fcacc4;border-radius:20px;width:320px;max-height:100%;box-shadow:0 0 15px #0003;padding:30px 20px 20px;display:flex;flex-direction:column;justify-content:start;align-items:stretch;overflow-y:auto}.login-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0b3b5b;font-size:22px;margin:0;max-width:85%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.theme-toggle[_ngcontent-%COMP%]{font-size:20px;color:#0b3b5b;cursor:pointer}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%]{padding:10px;border-radius:5px;border:none;outline:none}button[_ngcontent-%COMP%]{padding:10px;background-color:#0b3b5b;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.or-divider[_ngcontent-%COMP%]{text-align:center;margin:20px 0;color:#0b3b5b}.signup-text[_ngcontent-%COMP%]{text-align:center;color:#0b3b5b}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0b3b5b;font-weight:700;text-decoration:none}"]})};export{k as SignupComponent};

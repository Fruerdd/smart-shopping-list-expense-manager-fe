import{a as Y}from"./chunk-D3X57ITO.js";import{a as J}from"./chunk-KPVCULSL.js";import{a as q}from"./chunk-MM22J7PI.js";import{g as $}from"./chunk-Y6UGLKWX.js";import{a as G}from"./chunk-KBRR4CDA.js";import{$b as j,Ab as u,Bb as m,Ec as R,Fc as W,Hc as L,Jb as H,Kb as r,Lb as U,Mb as w,Oa as y,Qc as N,Ra as T,Ta as c,Ub as F,Xb as z,Za as d,_b as V,ba as x,ca as _,db as E,hb as f,j as P,n as O,ob as g,qb as I,t as M,tb as i,ub as o,uc as A,va as k,vb as l,vc as B,wb as v,wc as D,xb as b,y as S,zb as C}from"./chunk-VE4VNBXX.js";import"./chunk-EQDQRRRY.js";var Q=()=>[0,1,2,3,4];function X(a,e){if(a&1&&(i(0,"li"),l(1,"i",41),o()),a&2){let n=e.index,t=m().$implicit,s=m();c(),g("ngClass",s.starClass(n,t.score))}}function Z(a,e){if(a&1&&(v(0),r(1),b()),a&2){let n=m().$implicit;c(),w(" ",n.context," ")}}function ee(a,e){if(a&1&&(r(0),z(1,"slice")),a&2){let n=m().$implicit;w(" ",V(1,1,n.context,0,30),"\u2026 ")}}function te(a,e){if(a&1){let n=C();v(0),i(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"img",34),u("error",function(s){x(n);let p=m();return _(p.setDefaultAvatar(s))}),o()(),i(6,"h5",35),r(7),o(),i(8,"ul",36),f(9,X,2,1,"li",22),o(),i(10,"div",37)(11,"p",38),l(12,"i",39),f(13,Z,2,1,"ng-container",40)(14,ee,2,5,"ng-template",null,0,j),o()()()()(),b()}if(a&2){let n=e.$implicit,t=H(15);c(5),g("src",n.avatar,y)("alt",n.name),c(2),U(n.name),c(2),g("ngForOf",F(6,Q)),c(4),g("ngIf",n.context.length<=30)("ngIfElse",t)}}function ne(a,e){if(a&1){let n=C();i(0,"span",42),u("click",function(){let s=x(n).index,p=m();return _(p.goToPage(s))}),o()}if(a&2){let n=e.index,t=m();I("active",t.currentPage===n)}}var K=class a{constructor(e,n,t,s,p,h){this.usersSvc=e;this.userProfileService=n;this.auth=t;this.router=s;this.imageUrlService=p;this.isBrowser=L(h)}testimonials=[];startIndex=0;itemsToShow=3;hoverMap={};isBrowser;ngOnInit(){this.onResize(),this.usersSvc.getTestimonials().subscribe({next:e=>this.loadWithAvatars(e),error:e=>{console.error("Failed to load testimonials:",e),this.testimonials=[]}})}onResize(){this.isBrowser&&(this.itemsToShow=window.innerWidth<=768?1:3)}loadWithAvatars(e){let n=e.map(t=>this.userProfileService.searchUsers(t.name).pipe(O(s=>{let p=s.find(h=>h.name.toLowerCase()===t.name.toLowerCase());return this.toView(t,p?.avatar)}),S(()=>P(this.toView(t,t.avatar)))));M(n).subscribe({next:t=>this.testimonials=t,error:()=>this.testimonials=e.map(t=>this.toView(t,t.avatar))})}toView(e,n){let t=typeof e.reviewScore=="number"&&!isNaN(e.reviewScore)?e.reviewScore:0,s=Math.max(0,Math.min(5,t));return{avatar:this.getFullImageUrl(n)||"/assets/images/avatar.png",name:e.name,score:s,context:e.reviewContext}}getFullImageUrl(e){return this.imageUrlService.getFullImageUrl(e)}onStartShopping(){this.router.navigate([this.auth.isLoggedIn()?"/dashboard":"/signup"])}get pages(){return Array(Math.ceil(this.testimonials.length/this.itemsToShow)).fill(0)}get currentPage(){return Math.floor(this.startIndex/this.itemsToShow)}goToPage(e){this.startIndex=e*this.itemsToShow}get visibleTestimonials(){let e=this.testimonials.length;return e===0?[]:Array.from({length:this.itemsToShow},(n,t)=>this.testimonials[(this.startIndex+t)%e])}starClass(e,n){let t=Math.floor(n),s=n-t>=.5;return e<t?"fas fa-star":e===t&&s?"fas fa-star-half-alt":"far fa-star"}setDefaultAvatar(e){e.target.src="/assets/images/avatar.png"}static \u0275fac=function(n){return new(n||a)(d(G),d(J),d(q),d($),d(Y),d(k))};static \u0275cmp=E({type:a,selectors:[["app-home"]],hostBindings:function(n,t){n&1&&u("resize",function(){return t.onResize()},!1,T)},decls:58,vars:2,consts:[["truncated",""],[1,"hero","d-flex","align-items-center","justify-content-center","text-center"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6","text-center","d-flex","flex-column","justify-content-center"],[1,"hero-title"],[1,"hero-subtitle","mt-3"],[1,"col-md-6","text-center","mt-4","mt-md-0"],["src","home1.png","alt","Shopping",1,"img-fluid","hero-image"],[1,"did-you-know","text-center","py-5"],[1,"info-box","mx-auto","p-4"],[1,"section-title"],[1,"section-text","mt-3"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"testimonials-section","text-center","py-5",2,"background-color","#FCACC4"],[1,"container","py-5"],[1,"row","justify-content-center","mb-5"],[1,"col-md-10","col-xl-8","text-center"],[1,"fas","fa-heart","fa-2x","mb-3"],[1,"fw-bold","mb-2"],[1,"position-relative"],[1,"row","text-center","mx-auto",2,"max-width","900px"],[4,"ngFor","ngForOf"],[1,"dots-container","mt-4"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["id","how-it-works",1,"how-it-works","py-5"],[1,"section-title","text-center","mb-4"],[1,"col-md-6","text-md-start","text-center"],[1,"hiw-list","list-unstyled","mx-auto"],["src","home2.png","alt","How It Works",1,"img-fluid","hiw-image"],[1,"col-12","col-md-4"],[1,"card","testimonial-card","mb-4","d-flex","flex-column"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","justify-content-center","mb-3"],["width","100","height","100",1,"rounded-circle","shadow-1-strong",2,"background-color","#FEBFB3",3,"error","src","alt"],[1,"font-weight-bold","text-center","mb-1"],[1,"rating-stars","list-unstyled","d-flex","justify-content-center","mb-3"],[1,"review-wrapper","flex-grow-1"],[1,"testimonial-text","mb-0"],[1,"fas","fa-quote-left","pe-2"],[4,"ngIf","ngIfElse"],[3,"ngClass"],[1,"dot",3,"click"]],template:function(n,t){n&1&&(i(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),r(5,"Plan,"),l(6,"br"),r(7,"Track "),l(8,"br"),r(9," & Save"),o(),i(10,"p",6),r(11," Shop smarter, track "),l(12,"br"),r(13," your spending, find the "),l(14,"br"),r(15," best prices \u2014 all in one app. "),o()(),i(16,"div",7),l(17,"img",8),o()()()(),i(18,"section",9)(19,"div",2)(20,"div",10)(21,"h2",11),r(22,"Did you know?"),o(),i(23,"p",12),r(24," Using a smart shopping list helps reduce impulse purchases and unnecessary spending. With real-time price comparisons and budget tracking, users can make informed decisions, saving both time and money. "),o()(),i(25,"button",13),u("click",function(){return t.onStartShopping()}),r(26,` Start Shopping!
`),o()()(),i(27,"section",14)(28,"div",15)(29,"div",16)(30,"div",17),l(31,"i",18),i(32,"h3",19),r(33,"What our users have to say"),o()()(),i(34,"div",20)(35,"div",21),f(36,te,16,7,"ng-container",22),o(),i(37,"div",23),f(38,ne,1,2,"span",24),o()()()(),i(39,"section",25)(40,"div",2)(41,"h2",26),r(42,"How it Works?"),o(),i(43,"div",3)(44,"div",27)(45,"ul",28)(46,"li"),r(47,"Create an Account"),o(),i(48,"li"),r(49,"Build Your Shopping List"),o(),i(50,"li"),r(51,"Compare & Save"),o(),i(52,"li"),r(53,"Track Expenses"),o(),i(54,"li"),r(55,"Earn Rewards"),o()()(),i(56,"div",7),l(57,"img",29),o()()()()),n&2&&(c(36),g("ngForOf",t.visibleTestimonials),c(2),g("ngForOf",t.pages))},dependencies:[W,A,B,D,R,N],styles:[".position-relative[_ngcontent-%COMP%]{overflow:visible!important}.hero[_ngcontent-%COMP%]{background-color:#0b3b5b;padding:0}.hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#fff}.hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;line-height:1.2}.hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem}.did-you-know[_ngcontent-%COMP%]{background-color:#fff}.did-you-know[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{background-color:#0b3b5b;border-radius:12px;max-width:700px;color:#fff}.did-you-know[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#fcacc4;border:none;color:#083b5b;padding:.75rem 1.5rem;font-size:1.1rem;border-radius:30px}.testimonials-section[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000001a;height:350px}.testimonials-section[_ngcontent-%COMP%]   .dots-container[_ngcontent-%COMP%]{text-align:center}.testimonials-section[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;margin:0 6px;border-radius:50%;background-color:#083b5b4d;cursor:pointer;transition:background-color .2s}.testimonials-section[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background-color:#083b5b}.testimonials-section[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{overflow:visible!important}.testimonials-section[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#083b5b;z-index:20;font-size:1.5rem}@media (max-width: 767.98px){.testimonials-section[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%] > .btn-link.start-0[_ngcontent-%COMP%]{left:.5rem}}.testimonials-section[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000001a;display:flex;flex-direction:column;height:350px}.testimonials-section[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{position:relative}.testimonials-section[_ngcontent-%COMP%]   .testimonial-text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.testimonials-section[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.testimonials-section[_ngcontent-%COMP%]   .full-text-container[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;margin-top:.5rem;background:#fff;padding:.75rem;border-radius:6px;box-shadow:0 2px 8px #00000026;white-space:normal;word-break:break-word;z-index:10}.testimonials-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;font-size:1.2rem;margin:0 4px}.how-it-works[_ngcontent-%COMP%]{background-color:#fff}.how-it-works[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#0b3b5b;font-size:2.5rem;font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-list[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.how-it-works[_ngcontent-%COMP%]   .hiw-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.8rem;padding-left:48px}.how-it-works[_ngcontent-%COMP%]   .hiw-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{font-size:1.8rem}.how-it-works[_ngcontent-%COMP%]   .hiw-image[_ngcontent-%COMP%]{width:60%;border-radius:8px}"]})};export{K as HomeComponent};
